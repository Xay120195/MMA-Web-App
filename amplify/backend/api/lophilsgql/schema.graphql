type Thread @model {
  id: ID!
  snippet: String!
  historyId: String
}

type UserOAuth @model @key(fields: ["username", "email"]) {
  username: ID!
  email: String!
  token: AWSJSON
}

type Query {
  threadsFromApi(email: String!): [Thread]
    @function(name: "listEmailsByUser-${env}")
  threadsFromDB: [Thread]
}

type Mutation {
  addOAuthFromCode(code: String!): String
    @function(name: "addOAuthFromCode-${env}")
}
